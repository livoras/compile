Stat -> Frag Stat|e
Frag -> IfStat|EachStat|Node|text

IfStat -> if Stat ElseIfs' Else '{/if}'
ElseIfs' -> ElseIfs ElseIfs'|e
ElseIfs -> elseif Stat
Else -> '{else}' Stat|e

EachStat -> each Stat '{/each}'

Node -> OpenTag NodeTail
NodeTail -> '>' Stat closeTag
          | '/>'
OpenTag -> tagName Attrs

Attrs -> Attr Attrs|e 
Attr -> name Value
Value -> '=' string|e

Tokens:

TK_TEXT
TK_IF
TK_END_IF
TK_ELSE_IF
TK_ELSE
TK_EACH
TK_END_EACH
TK_GT
TK_SLASH_GT
TK_TAG_NAME
TK_ATTR_NAME
TK_EQUAL
TK_ATTR_STRING
